# Создание неизменных классов
Создание неизменных классов
Инкапсуляция данных полезна, потому что она предотвращает неконтролируемые изменения в вашем классе.
Другой распространенный метод - сделать классы неизменяемыми, чтобы их нельзя было изменить вообще.
Неизменяемые занятия полезны, потому что вы знаете, что они всегда будут одинаковыми. 
Вы можете передать их вашему приложению с гарантией того, что абонент ничего не изменил.
Это помогает сделать программы проще в обслуживании. Это также помогает повысить производительность, ограничивая количество копий, 
как вы видели Stringв главе 3 «Базовые API Java».
Один из шагов в создании неизменяемого класса - опустить сеттеры. Но подождите: мы все еще хотим, 
чтобы вызывающая сторона могла указать начальное значение - мы просто не хотим, чтобы оно изменилось после создания объекта.
Конструкторы на помощь!
В этом примере у нас нет сеттера. У нас есть конструктор, который позволяет установить значение. 
Помните, неизменность измеряется только после того, как объект построен.
Неизменяемые классы могут иметь значения. Они просто не могут измениться после создания экземпляра.
У вызывающей стороны есть ссылка, так как она была передана конструктору. Любой, кто вызывает геттер, тоже получает ссылку.
Решение состоит в том, чтобы сделать копию изменяемого объекта (в конструкторе) Это называется защитной копией.
Теперь вызывающая сторона может вносить изменения в исходный sb объект, и это нормально. NotImmutable не заботится об этом объекте
после запуска конструктора.
То же самое касается геттера: вызывающие абоненты могут изменять их, StringBuilder не влияя NotImmutable
